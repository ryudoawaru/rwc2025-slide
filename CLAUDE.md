# CLAUDE.md

## RubyWorld Conference 2025 ç™¼è¡¨ç°¡å ±

é€™å€‹å°ˆæ¡ˆä¸»è¦ç›®çš„æ˜¯ç”¢ç”Ÿ marp æ ¼å¼çš„ç°¡å ±ç”¨æ–¼åœ¨ 11/6 çš„ RubyWorld Conference 2025 ç™¼è¡¨ï¼Œä½†ä¹Ÿæœƒè£½ä½œä¸­æ–‡ç‰ˆåœ¨ 10.28 çš„ RubyJam ç™¼è¡¨

## ç°¡å ±æª”æ¡ˆ

- **ä¸»æª”æ¡ˆ**: `rubyworld-2025-taigi-parser.md`
- **ä¸»é¡Œ**: `5xruby.css`
- **ç™¼è¡¨æ™‚é–“**: 15 åˆ†é˜ï¼ˆç´”æ¼”è¬›ï¼Œç„¡ Q&Aï¼‰

## å°ˆæ¡ˆç›®æ¨™

- ç”¢ç”Ÿ RubyWorld Conference 2025 çš„ Marp æ ¼å¼æ—¥æ–‡ç°¡å ±ï¼ˆ15 åˆ†é˜ç™¼è¡¨ï¼‰é™„è¬›ç¨¿
- ç›®æ¨™æª”æ¡ˆç‚ºï¼šrubyworld-2025-taigi-parser.md
- åœ–æª”éƒ½æ”¾åœ¨ images

## ç”¢ç”Ÿæ’åœ–

åƒè€ƒç›®å‰ä½¿ç”¨éçš„ä¸€äº›é¢¨æ ¼ï¼š

ç°¡åŒ– ICON é¢¨å€‹

```
Flat design icon: A simple maze from top view with a confused person holding a "RFP è¦æ±‚ä»•æ§˜æ›¸" document in the center. Red X marks on wrong paths. Golden orange and cream color scheme. Minimalist style.
```

ä¸€èˆ¬é¢¨æ ¼
```
A flat design illustration showing two contrasting scenes split vertically. Left side: a developer sitting at a computer with code on
  the screen, looking stressed and looking at a clock showing limited time. Right side: the same developer in a business suit at a
  networking event, shaking hands with multiple government officials, holding a stack of business cards, with a calendar in background
  showing "å–¶æ¥­æ´»å‹•: 80%" (Sales Activities: 80%) in Japanese. The developer's laptop is closed and pushed to the side. The contrast
  shows time being taken away from development work. Color scheme: warm golden orange/amber for suits and main elements, cream/beige
  background, brown outlines. Soft pastel illustration style, warm and friendly colors, clean lines. Same color palette throughout both
  scenes.
```

æ•´é«”éœ€è¦æ–‡å­—ç‚ºæ—¥æ–‡

## ç°¡å ±çµæ§‹æ¦‚è¦ï¼ˆæœ€æ–°ç‰ˆæœ¬ 2025-10-19ï¼‰

### ä¸»è¦åˆ†æ®µ

**ç¸½é æ•¸**: ç´„ 30+ é ï¼ˆå«è©³ç´°æŠ€è¡“é é¢ï¼‰
**ç™¼è¡¨æ™‚é–“**: 15 åˆ†é˜

1. **é–‹å ´æ®µè½** (Pages 1-5)
   - Page 1: æ¨™é¡Œé 
   - Page 2: è‡ªæˆ‘ä»‹ç´¹
   - Page 3: RubyCity ç¸çµã³ã®åœ°ã¨ã®10å¹´ã®ç‰©èªï¼ˆæ¾æ±Ÿå¸‚ MOUï¼‰
   - Page 4: 5xRuby ã«ã¤ã„ã¦
   - Page 5: 5xRuby ã®äº‹æ¥­

2. **ç¬¬ä¸€å¹•ï¼šç„¡äººå…¥æœ­ã®ç‰©èª** (Pages 6-8)
   - Page 6: å°æ¹¾æ”¿åºœæ¡ˆä»¶ã®ç‰¹æ®Šæ€§
   - Page 7: 8é€£æ•—ã‹ã‚‰ã®å­¦ã³
   - Page 8: è½æœ­å¾Œã®çœŸç›¸ï¼ˆåˆ†è©ãŒç…©é›‘ã™ãã¦èª°ã‚‚æ‰‹ã‚’å‡ºã•ãªã„ï¼‰

3. **ç¬¬äºŒå¹•ï¼šå°ç¾…æ‹¼éŸ³ï¼ˆPOJï¼‰ã¨ã¯ï¼Ÿ** (Pages 9-11)
   - Page 9: å°ç¾…æ‹¼éŸ³ã¨ã¯ï¼Ÿ
   - Page 10: æ—¥æœ¬èªã¨å°æ¹¾èªã®æ–‡å­—ã‚·ã‚¹ãƒ†ãƒ 
   - Page 11: å®Ÿéš›ã®åˆ†è©ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆå‡¦ç†ä¾‹

4. **ç¬¬ä¸‰å¹•ï¼šåˆ†è©ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆå‡¦ç†ã®å®Ÿè£…** (Pages 12-17)
   - Page 12: ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ«ãƒ¼ãƒ«ã®ä½“ç³»åŒ–ï¼ˆ65+ patternsï¼‰
   - Page 13-16: å®Ÿè£…ã®å…¨ä½“ãƒ•ãƒ­ãƒ¼
     - Step 1: æ¼¢å­—æ‹†åˆ†å‡¦ç†
     - Step 2: POJæ‹†åˆ†å‡¦ç†
     - Step 3: é…å°é‚è¼¯ï¼ˆã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆï¼‰
     - Step 4: é…åˆ—æ§‹ç¯‰ã¨æ¤œè¨¼

5. **ç¬¬å››å¹•ï¼šParser ã¨ã®å‡ºä¼šã„** (Pages 18-27) â­æ ¸å¿ƒæ®µè½
   - Page 18: RubyConf Taiwan x COSCUP 2025 ã‹ã‚‰ã®ç™ºæƒ³
   - Page 19: Kaneko ã•ã‚“ã®ãƒˆãƒ¼ã‚¯ã‹ã‚‰ã®æ°—ã¥ã
   - Page 20: RomanParser - Parslet ã«ã‚ˆã‚‹å®Ÿè£…
   - Page 21-23: 3-Phase è©³ç´°
     - Phase 1: Lexical Analysis
     - Phase 2: Syntax Analysis
     - Phase 3: Semantic Analysis
   - Page 24: Ruby Parser ã¨ã®æ¯”è¼ƒ
   - **Page 25: ãªãœæ¼¢å­—ã« Parser ã¯ä¸è¦ãªã®ã‹ï¼Ÿ** ğŸ†•
     - POJ ã®éŸ³ç¯€æ•° = æ¼¢å­—ã®æ–‡å­—æ•°
     - 1:1 è‡ªå‹•ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆã®åŸç†

6. **ç¬¬äº”å¹•ï¼šRuby ã®å„ªä½æ€§** (Pages 26-28)
   - Page 26: Ruby ã®3ã¤ã®å„ªä½æ€§
   - Page 27: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æˆæœ

7. **çµèª** (Pages 28-30)
   - Page 28: çµè«–
   - Page 29: ã”æ¸…è´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ

### é—œéµé é¢æ¨™è¨˜

- â­ **Page 25**: æ–°å¢æ ¸å¿ƒæ´å¯Ÿé é¢ï¼Œèªªæ˜ç‚ºä½•æ¼¢å­—ä¸éœ€è¦ç¨ç«‹ Parser
- ğŸ”„ **å·²åˆªé™¤**: åŸ Page 28 "3æ®µéšåˆ†æã®è©³ç´°"ï¼ˆé‡è¤‡ï¼‰
- ğŸ”„ **å·²åˆªé™¤**: åŸ Page 29 "ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ç†è«–ã®å¿œç”¨"ï¼ˆæŠ½è±¡ä¸”é‡è¤‡ï¼‰

## é‡è¦ä¿®æ­£è¨˜éŒ„

### 2025-10-19: ç°¡å ±çµæ§‹é‡æ•´èˆ‡å„ªåŒ– ğŸ¯

#### åˆªé™¤å†—é¤˜é é¢
1. **åˆªé™¤åŸ Page 28 "3æ®µéšåˆ†æã®è©³ç´°"**
   - **åŸå› **: èˆ‡ Phase 1/2/3 è©³ç´°é é¢é‡è¤‡
   - **æ™‚é–“**: Line 2017-2066
   - **å½±éŸ¿**: ç°¡å ±æ›´èšç„¦ï¼Œé¿å…é‡è¤‡èªªæ˜

2. **åˆªé™¤åŸ Page 29 "ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ç†è«–ã®å¿œç”¨"**
   - **åŸå› **: åƒ…é‡è¤‡æŠ½è±¡æ¦‚å¿µï¼Œç„¡æ–°è³‡è¨Š
   - **å…§å®¹**: åªèªªæ˜ Parser çŸ¥è­˜å¯æ‡‰ç”¨æ–¼è‡ªç„¶èªè¨€ï¼Œä½†å·²åœ¨ Page 27 æ¯”è¼ƒä¸­è­‰æ˜
   - **å½±éŸ¿**: ç§»é™¤å¾Œç›´æ¥é€²å…¥ Ruby å„ªä½æ€§æ®µè½ï¼Œé‚è¼¯æ›´æµæš¢

#### æ–°å¢é—œéµé é¢
3. **æ–°å¢ Page 28 "ãªãœæ¼¢å­—ã« Parser ã¯ä¸è¦ãªã®ã‹ï¼Ÿ"** â­
   - **ä½ç½®**: åœ¨ Page 27 "Ruby Parser ã¨ã®æ¯”è¼ƒ" ä¹‹å¾Œ
   - **æ ¸å¿ƒæ¦‚å¿µ**: POJ ã®éŸ³ç¯€æ•° = æ¼¢å­—ã®æ–‡å­—æ•°
   - **å…§å®¹çµæ§‹**:
     - å·¦æ¬„ï¼šPOJ Parser çš„è¼¸å‡ºèˆ‡éŸ³ç¯€è¨ˆç®—
       - `"suÃ -loÌh".split('-').size # => 2`
       - ãƒã‚¤ãƒ•ãƒ³ = éŸ³ç¯€åˆ†é›¢ç¬¦
     - å³æ¬„ï¼šæ¼¢å­—è‡ªå‹•ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆ
       - 2éŸ³ç¯€ â†’ å–2å€‹æ¼¢å­— "ç´²è½"
       - 3éŸ³ç¯€ â†’ å–3å€‹æ¼¢å­— "æ–°ç«¹å¸‚"
   - **çµè«–**:
     - âœ… POJ Parser ã®éŸ³ç¯€æƒ…å ±ã§æ¼¢å­—ã‚’åˆ†å‰²
     - âœ… æ¼¢å­— Parser ã¯ä¸è¦
     - âœ… ã‚·ãƒ³ãƒ—ãƒ«ãªæ–‡å­—ã‚«ã‚¦ãƒ³ãƒˆæ“ä½œã§å®Ÿç¾
   - **Speaker Notes é‡é»**:
     - èªªæ˜ 1éŸ³ç¯€ = 1æ¼¢å­— çš„å°æ‡‰é—œä¿‚
     - å±•ç¤ºå¾ POJ éŸ³ç¯€æ•¸æ¨ç®—æ¼¢å­—å­—æ•¸çš„å…·é«”æ­¥é©Ÿ
     - é¡æ¯” Ruby Parser çš„åŸç†ï¼šè¤‡é›œçµæ§‹å…ˆè§£æï¼Œç°¡å–®çµæ§‹è‡ªç„¶å°æ‡‰
     - å¼·èª¿ Compiler ç†è«–çš„æ™®éæ€§

#### ä¿®æ­£é‚è¼¯
- **ä¿®æ­£å‰æµç¨‹**: æ¯”è¼ƒ â†’ 3æ®µéšè©³ç´° â†’ æŠ½è±¡ç†è«– â†’ Rubyå„ªä½æ€§
- **ä¿®æ­£å¾Œæµç¨‹**: æ¯”è¼ƒ â†’ **ç‚ºä½•æ¼¢å­—ä¸éœ€Parser** â†’ Rubyå„ªä½æ€§
- **æ”¹å–„é»**:
  - æ¸›å°‘é‡è¤‡å…§å®¹
  - å¢åŠ é—œéµæ´å¯Ÿï¼ˆParser å–®å‘ä¾è³´ï¼‰
  - é‚è¼¯æ›´é€£è²«ï¼šå¾ Parser æ¯”è¼ƒ â†’ æ·±å…¥ç†è§£ï¼ˆç‚ºä½•æ¼¢å­—ä¸éœ€è¦ï¼‰ â†’ æŠ€è¡“å„ªå‹¢

### 2025-10-12: è¡“èªçµ±ä¸€
- **è®Šæ›´**: `æ‹†å­—ï¼ˆåˆ†è©ï¼‰` â†’ `åˆ†è©ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆå‡¦ç†`
- **ä½ç½®**: Line 295
- **åŸå› **: ä½¿ç”¨æ›´ç²¾ç¢ºçš„æŠ€è¡“è¡“èª

### 2025-10-12: Page 12a é‡å¤§ä¿®æ­£
- **å•é¡Œ**: åŸæœ¬åˆ—å‡º 4 ç¨®é€£å­—ç¬¦è™•ç†ï¼Œä½†ç¬¬ 4 ç¨®ï¼ˆ`æ–‡è„ˆä¾å­˜ã®åˆ†é›¢`ï¼‰åœ¨å¯¦éš›ç¨‹å¼ç¢¼ä¸­ä¸¦æœªå¯¦ä½œ
- **ä¿®æ­£**: æ”¹ç‚º 3 ç¨®è™•ç†é¡å‹
  1. å–®è©å…§é€£å­—ç¬¦ï¼ˆä¿æŒï¼‰
  2. äºŒé‡ãƒã‚¤ãƒ•ãƒ³ï¼ˆå¢ƒç•Œæ¨™è¨˜ï¼‰
  3. å‰ç½®ãƒã‚¤ãƒ•ãƒ³ï¼ˆèªé–“åœé “ï¼‰
- **æ–°å¢å¯¦ä¾‹**: `jiÌt--sÃ®`ï¼ˆæ—¥æ™‚ï¼‰
  ```
  æ¼¢å­—: "æ—¥æ™‚æ–·æ–·ä»”"
  POJ:  "jiÌt--sÃ® tuÄn-tuÄn-Ã¡"
  ```
- **é—œéµç™¼ç¾**:
  - æœ€çµ‚ split æ˜¯ç”¨ç©ºæ ¼ (`split(/\s/)`)ï¼Œä¸æ˜¯ç”¨é€£å­—ç¬¦
  - `--` åœ¨ KANJI å´æœ‰è™•ç†ï¼ˆline 68ï¼‰ï¼Œä½†åœ¨ ROMAN å´è¢«è¨»è§£æ‰ï¼ˆline 48-49ï¼‰
  - å‰ç½®é€£å­—ç¬¦åœ¨ `roman_kanji_array` æ–¹æ³•ä¸­ç‰¹æ®Šè™•ç†ï¼ˆlines 146-149ï¼‰

## Scale Classes ä½¿ç”¨èªªæ˜

ç‚ºäº†é˜²æ­¢å…§å®¹æº¢å‡ºåˆ° footer å€åŸŸï¼Œæœ¬ç°¡å ±ä½¿ç”¨äº†è‡ªå®šç¾©çš„ scale utility classesï¼š

```css
section.scale-95 { font-size: 95%; }
section.scale-90 { font-size: 90%; }
section.scale-85 { font-size: 85%; }
section.scale-80 { font-size: 80%; }
section.scale-75 { font-size: 75%; }
section.scale-70 { font-size: 70%; }
section.scale-65 { font-size: 65%; }
```

### ç›®å‰ä½¿ç”¨æƒ…æ³
- **Pages 12a-12d**: ä½¿ç”¨ `scale-75` (75%)
  - åŸå› ï¼šæŠ€è¡“ç´°ç¯€é é¢ï¼Œå…§å®¹å¯†é›†
  - åŒ…å«ï¼šç¨‹å¼ç¢¼ç¯„ä¾‹ã€å¯¦ä¾‹å±•ç¤ºã€èªªæ˜æ–‡å­—

### ä½•æ™‚ä½¿ç”¨ Scale Classes
1. æŠ€è¡“ç´°ç¯€è±å¯Œçš„é é¢
2. åŒ…å«å¤šæ®µç¨‹å¼ç¢¼çš„é é¢
3. éœ€è¦åŒæ™‚å±•ç¤ºè¼¸å…¥/è¼¸å‡ºç¯„ä¾‹çš„é é¢
4. å…§å®¹æ¥è¿‘æˆ–è¶…å‡º footer å€åŸŸæ™‚

## ç¨‹å¼ç¢¼ä¾†æºå°ç…§

æœ¬ç°¡å ±ä¸­çš„ç¨‹å¼ç¢¼ç¯„ä¾‹å‡ä¾†è‡ªå¯¦éš›å°ˆæ¡ˆï¼Œå°ˆæ¡ˆåœ¨ä¸Šä¸€å±¤ç›®éŒ„

### é—œéµå¸¸æ•¸
- **ROMAN_GSUB_PATTERNS**: 65+ å€‹æ¨¡å¼æ›¿æ›è¦å‰‡ï¼ˆlines 9-66ï¼‰
- **KANJI_GSUB_PATTERNS**: æ¼¢å­—å´çš„æ¨¡å¼è¦å‰‡ï¼ˆlines 67-79ï¼‰
- **ONE_KANJI_WORDS**: å–®å­—æ¼¢å­—ç‰¹æ®Šè™•ç†ï¼ˆlines 81-85ï¼‰
- **SP_MIRRORS**: ç‰¹æ®Šé¡åƒè™•ç†ï¼ˆlines 87-89ï¼‰

### æ ¸å¿ƒæ–¹æ³•
1. **`roman_kanji_array`** (lines 146-176)
   - ä¸»è¦çš„å°é½Šé‚è¼¯
   - è™•ç†å‰ç½®é€£å­—ç¬¦
   - è™•ç†äºŒé‡é€£å­—ç¬¦

2. **`splitted_roman`** (lines 115-117)
   - ä½¿ç”¨ç©ºæ ¼åˆ†å‰² POJ
   - **é—œéµ**: `split(/\s/)`ï¼Œä¸æ˜¯ç”¨é€£å­—ç¬¦åˆ†å‰²

3. **`splitted_kanji`** (lines 119-123)
   - ä½¿ç”¨ RXP_SPK regex åˆ†å‰²æ¼¢å­—
   - çµåˆ `ONE_KANJI_WORDS` è™•ç†

4. **`washed_roman`** (lines 101-106)
   - å¥—ç”¨æ‰€æœ‰ ROMAN_GSUB_PATTERNS
   - æ­£è¦åŒ–è™•ç†

5. **`set_arrays`** (lines 134-144)
   - è¨­å®šé™£åˆ—ä¸¦é©—è­‰å¹³è¡¡æ€§
   - éŒ¯èª¤è™•ç†

## æŠ€è¡“è¡“èªå°ç…§ï¼ˆç°¡å ±ç”¨ï¼‰

| ä¸­æ–‡ | æ—¥èª | è‹±æ–‡ | å‚™è¨» |
|------|------|------|------|
| åˆ†è© | åˆ†è© | Word Segmentation | ç¾çµ±ä¸€ç”¨ã€Œåˆ†è©ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆå‡¦ç†ã€ |
| ç™½è©±å­— | ç™½è©±å­— | PeÌh-Åe-jÄ« (POJ) | å°ç£èªç¾…é¦¬å­—ç³»çµ± |
| è²èª¿æ¨™è¨˜ | å£°èª¿è¨˜å· | Tone Marks | Unicode combining characters |
| é€£å­—ç¬¦ | ãƒã‚¤ãƒ•ãƒ³ | Hyphen | - |
| èªé–“åœé “ | èªé–“åœé “ | Inter-word Pause | `--` ç¬¦è™Ÿï¼Œé¡ä¼¼æ—¥èªã€Œã£ã€ |
| å°é½Š | ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆ | Alignment | - |
| å¹³è¡¡æ€§æª¢æŸ¥ | ãƒãƒ©ãƒ³ã‚¹æ¤œè¨¼ | Balance Check | `arrays_balanced` |
| å­—å¥è§£æ | å­—å¥è§£æ | Lexical Analysis | Tokenization |
| æ§‹æ–‡è§£æ | æ§‹æ–‡è§£æ | Syntax Analysis | Pattern Matching |
| æ„å‘³è§£æ | æ„å‘³è§£æ | Semantic Analysis | Validation |

## Speaker Notes ä½¿ç”¨æŒ‡å—

æ¯å€‹é é¢éƒ½åŒ…å«è©³ç´°çš„ Speaker Notesï¼Œä½æ–¼ `<!--` å’Œ `-->` ä¹‹é–“ã€‚

### Speaker Notes çµæ§‹
```markdown
<!--
Speaker Notes å…§å®¹ï¼š
- é€™ä¸€é è¦è¬›çš„é‡é»
- é è¨ˆè¬›è¿°æ™‚é–“
- éœ€è¦å¼·èª¿çš„æŠ€è¡“ç´°ç¯€
- èˆ‡è½çœ¾çš„äº’å‹•é»
-->
```

### Page 12a Speaker Notes ç¯„ä¾‹
```markdown
ã•ã¦ã€ã“ã“ã‹ã‚‰ãŒæœ¬ç™ºè¡¨ã®æ ¸å¿ƒéƒ¨åˆ†ã§ã™ã€‚
ã¾ãšæœ€åˆã®èª²é¡Œã¯ã€é€£å­—ç¬¦ã€ã¤ã¾ã‚Šãƒã‚¤ãƒ•ãƒ³ã®è¤‡é›‘æ€§ã§ã™ã€‚

å°æ¹¾èªã®POJã«ã¯ã€3ç¨®é¡ã®ãƒã‚¤ãƒ•ãƒ³å‡¦ç†ãŒå¿…è¦ã§ã™ã€‚

1ã¤ç›®ã¯ã€å˜èªå†…ã®é€£å­—ç¬¦ã§ã™ã€‚
ã“ã‚Œã¯ä¿æŒã™ã¹ãã‚‚ã®ã§ã™ã€‚
...

3ã¤ç›®ã¯ã€å‰ç½®ãƒã‚¤ãƒ•ãƒ³ã®å‡¦ç†ã§ã™ã€‚
å®Ÿéš›ã®ä¾‹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
ã€Œæ—¥æ™‚æ–·æ–·ä»”ã€ã¨ã„ã†æ–‡ç« ãŒã‚ã‚Šã¾ã™ã€‚
POJã§ã¯ã€ŒjiÌt--sÃ® tuÄn-tuÄn-Ã¡ã€ã¨æ›¸ãã¾ã™ã€‚

ã“ã®ã€Œ--ã€ã¯èªé–“åœé “ã‚’è¡¨ã™ç‰¹æ®Šãªãƒãƒ¼ã‚«ãƒ¼ã§ã™ã€‚
æ—¥æœ¬èªã®ä¿ƒéŸ³ã€Œã£ã€ã«ä¼¼ã¦ã„ã¾ã™ã€‚
```

## ç¶­è­·æ³¨æ„äº‹é …

### 1. ä¿æŒç¨‹å¼ç¢¼æº–ç¢ºæ€§
- æ‰€æœ‰ç¨‹å¼ç¢¼ç¯„ä¾‹å¿…é ˆèˆ‡å¯¦éš›å°ˆæ¡ˆä¸€è‡´
- æ›´æ–°ç¨‹å¼ç¢¼å‰å…ˆæŸ¥çœ‹æœ€æ–°çš„ Git commit
- ä¸æ‡‰è©²å±•ç¤ºä¸å­˜åœ¨çš„åŠŸèƒ½

### 2. Scale Classes èª¿æ•´
- å¦‚æœå…§å®¹æº¢å‡ºï¼Œå…ˆå˜—è©¦èª¿æ•´ scale percentage
- é¿å…ä½æ–¼ `scale-65` (65%)ï¼Œæœƒå½±éŸ¿å¯è®€æ€§
- è€ƒæ…®åˆ†æˆå¤šå¼µæŠ•å½±ç‰‡

### 3. è¡“èªä¸€è‡´æ€§
- ä½¿ç”¨ `åˆ†è©ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆå‡¦ç†` è€Œé `æ‹†å­—ï¼ˆåˆ†è©ï¼‰`
- ä¿æŒä¸­æ–‡ã€æ—¥èªã€è‹±æ–‡è¡“èªå°ç…§è¡¨æ›´æ–°
- æ–°è¡“èªåŠ å…¥å‰å…ˆç¢ºèªæ—¥èªæ­£ç¢ºæ€§

### 4. å¯¦ä¾‹æ›´æ–°
- å¯¦ä¾‹å¿…é ˆä¾†è‡ªçœŸå¯¦èªæ–™åº«è³‡æ–™
- æä¾›å®Œæ•´çš„è¼¸å…¥/è¼¸å‡ºç¯„ä¾‹
- èªªæ˜å¯¦ä¾‹çš„ä»£è¡¨æ€§

## é è¦½èˆ‡åŒ¯å‡º

### æœ¬åœ°é è¦½
```bash
npx @marp-team/marp-cli@latest -s ./
```

æ‰“é–‹ http://localhost:8080/rubyworld-2025-taigi-parser.md æª¢æŸ¥
### æª¢æŸ¥æ¸…å–®
- [ ] æ‰€æœ‰é é¢å…§å®¹æœªæº¢å‡ºåˆ° footer
- [ ] ç¨‹å¼ç¢¼ syntax highlighting æ­£ç¢º
- [ ] æ—¥èªæ–‡æ³•èˆ‡è¡“èªæ­£ç¢º
- [ ] Speaker Notes å®Œæ•´ä¸”æ¸…æ™°
- [ ] å¯¦ä¾‹è³‡æ–™æ­£ç¢º
- [ ] æ™‚é–“æ§åˆ¶åœ¨ 15 åˆ†é˜å…§
- [ ] åœ–ç‰‡èˆ‡ logo æ­£ç¢ºé¡¯ç¤º

## ç›¸é—œè³‡æº

### å°ˆæ¡ˆé€£çµ
- **GitLab**: https://git.5xruby.com/naer/naer/
- **Redmine**: https://redmine.5xruby.com/issues/5432
- **GitHubï¼ˆå…¬é–‹ç‰ˆï¼‰**: https://github.com/5xruby/naer

### åƒè€ƒæ–‡ä»¶
- Corpus Model: `app/models/corpus.rb`
- CorporaArraySettable: `app/models/concerns/corpora_array_settable.rb`
- å¾Œå°è³‡æ–™åº«æª”æ¡ˆç¯„ä¾‹: `å¾Œå°è³‡æ–™åº«æª”æ¡ˆç¯„ä¾‹.xlsx`
- æ‹†å­—å‰ç¯„ä¾‹: `æ‹†å­—å‰çš„è¡¨æ ¼ç¯„ä¾‹.xlsx`
- æ‹†å­—æ ¡æ­£çµæœ: `æ‹†å­—æ ¡æ­£çµæœçš„ç¯„ä¾‹.xlsx`

### æœƒè­°è³‡è¨Š
- **æœƒè­°**: RubyWorld Conference 2025
- **æ—¥æœŸ**: 2025å¹´11æœˆ6-7æ—¥
- **åœ°é»**: å³¶æ ¹çœŒæ¾æ±Ÿå¸‚
- **æ¼”è¬›æ™‚é–“**: 15åˆ†é˜ï¼ˆç´”æ¼”è¬›ï¼Œç„¡Q&Aï¼‰
- **èªè¨€**: æ—¥èª

## åŸºæœ¬è³‡è¨Š
- **ç™¼è¡¨é¡Œç›®**: ã‚³ãƒ¼ãƒ‰ã®ã‚ˆã†ã«å°æ¹¾èªã‚’è§£æï¼šRubyã«ã‚ˆã‚‹ç™½è©±å­—ãƒ­ãƒ¼ãƒå­—ã®3æ®µéšè§£æ
- **ç™¼è¡¨è€…**: é„§æ…•å‡¡ (Mu-Fan Teng)
- **æ‰€å±¬**: 5xRuby CO., LTD
- **ç™¼è¡¨æ™‚é–“**: 15åˆ†é˜ï¼ˆç´”æ¼”è¬›ï¼Œç„¡Q&Aï¼‰
- **ç™¼è¡¨èªè¨€**: æ—¥èª
- **æ—¥æœŸ**: 2025å¹´11æœˆ6-7æ—¥
- **åœ°é»**: å³¶æ ¹çœŒæ¾æ±Ÿå¸‚

## å°ˆæ¡ˆèƒŒæ™¯è³‡æ–™

### GitLab å°ˆæ¡ˆ
- **å°ˆæ¡ˆURL**: https://git.5xruby.com/naer/naer/
- è«‹ä½¿ç”¨ mcp åƒè€ƒ
- **é—œéµPR**:
  - PR #30: åˆç‰ˆå¯¦ä½œï¼ˆåŸºç¤è¦å‰‡ï¼‰
  - PR #68: å¼•å…¥ROMAN_GSUB_PATTERNSï¼ˆ40+è¦å‰‡ï¼‰  
  - PR #73: è™•ç†ç‰¹æ®Šcaseçš„ä¿®æ­£

### Redmine Issue
- **Issue #5432**: https://redmine.5xruby.com/issues/5432
- è«‹ä½¿ç”¨ mcp åƒè€ƒ
- **å…§å®¹**: æ‹†å­—éœ€æ±‚èˆ‡ç¯„ä¾‹

### ç³»çµ±æ¦‚è¿°
- **åç¨±**: è‡ºç£å°èªèªæ–™åº«æ‡‰ç”¨æª¢ç´¢ç³»çµ± (NAER)
- **å§”è¨—æ–¹**: æ•™è‚²éƒ¨/åœ‹å®¶æ•™è‚²ç ”ç©¶é™¢
- **è¦æ¨¡**: 208å°æ™‚èªéŸ³è³‡æ–™
- **æœå‹™å°è±¡**: å…¨å°åœ‹ä¸­å°å­¸å°èªæ•™è‚²

### åŸå§‹è³‡æ–™ç¯„ä¾‹

- å¾Œå°è³‡æ–™åº«æª”æ¡ˆç¯„ä¾‹.xlsx

## æ‹†å­—ç¯„ä¾‹ï¼ˆæ ¸å¿ƒå•é¡Œï¼‰

- æ‹†å­—å‰çš„è¡¨æ ¼ç¯„ä¾‹.xlsx
- æ‹†å­—æ ¡æ­£çµæœçš„ç¯„ä¾‹.xlsx

### è¼¸å…¥è³‡æ–™
```
TA23_43969	ç´²è½ä¾†çœ‹æ–°ç«¹å¸‚æ˜ä»”è¼‰äºŒåå…­è™Ÿçš„å¤©æ°£	suÃ -loÌh lÃ¢i-khuÃ nn Sin-tik-tshÄ« bÃ®n-Ã¡-tsÃ i gÄ«-tsaÌp-laÌk hÅ Ãª thinn-khÃ¬
```

### æœŸå¾…è¼¸å‡º

#### æ¼¢å­—é™£åˆ—
```
ç´²è½ï½œä¾†çœ‹ï½œæ–°ç«¹å¸‚ï½œæ˜ä»”è¼‰ï½œäºŒåå…­ï½œè™Ÿï½œçš„ï½œå¤©æ°£
```

#### å°ç¾…é™£åˆ—
```
suÃ -loÌhï½œlÃ¢i-khuÃ nnï½œSin-tik-tshÄ«ï½œbÃ®n-Ã¡-tsÃ iï½œgÄ«-tsaÌp-laÌkï½œhÅï½œÃªï½œthinn-khÃ¬
```

### æŠ€è¡“æŒ‘æˆ°
1. é€£å­—ç¬¦è™•ç†ï¼ˆhyphenï¼‰
2. è²èª¿æ¨™è¨˜ï¼ˆtone marksï¼‰
3. æ—¥æ–‡æ··é›œè™•ç†
4. æ•¸å­—éŸ³éŸ»è®ŠåŒ–
5. ç‰¹æ®Šç¬¦è™Ÿè™•ç†

## æ—¥èªæŠ€è¡“è¡“èªå°ç…§è¡¨

| ä¸­æ–‡/è‹±æ–‡ | æ—¥èª | è®€éŸ³ |
|---------|------|------|
| æ‹†å­—/åˆ†è© | åˆ†è© | ã¶ã‚“ã— |
| ç™½è©±å­—(POJ) | ç™½è©±å­— | ãƒšãƒ¼ã‚ªãƒ¼ã‚¸ãƒ¼ |
| è²èª¿æ¨™è¨˜ | å£°èª¿è¨˜å· | ã›ã„ã¡ã‚‡ã†ãã”ã† |
| é€£å­—ç¬¦ | ãƒã‚¤ãƒ•ãƒ³ | - |
| å°é½Š | ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆ | - |
| ç…©é›œ | ç…©é›‘ | ã¯ã‚“ã–ã¤ |
| Parser | ãƒ‘ãƒ¼ã‚µãƒ¼ | - |
| å­—å¥è§£æ | å­—å¥è§£æ | ã˜ãã‹ã„ã›ã |
| æ§‹æ–‡è§£æ | æ§‹æ–‡è§£æ | ã“ã†ã¶ã‚“ã‹ã„ã›ã |
| æ„å‘³è§£æ | æ„å‘³è§£æ | ã„ã¿ã‹ã„ã›ã |
| æ­£è¦è¡¨ç¾ | æ­£è¦è¡¨ç¾ | ã›ã„ãã²ã‚‡ã†ã’ã‚“ |
| Rubyå‚³æ•™å£« | Rubyä¼é“å¸« | Ruby ã§ã‚“ã©ã†ã— |

### ç°¡åŒ–ç‰ˆ Demo Code
```ruby
# demo.rb
class TaigiParser
  def initialize
    @patterns = load_patterns
  end
  
  def parse(input)
    puts "=" * 50
    puts "Input: #{input}"
    puts "=" * 50
    
    # Step 1: Tokenize
    puts "\n[Step 1] Tokenizing..."
    tokens = tokenize(input)
    puts "Tokens: #{tokens.inspect}"
    
    # Step 2: Align
    puts "\n[Step 2] Aligning..."
    aligned = align(tokens)
    puts "Aligned: #{aligned.inspect}"
    
    # Step 3: Validate
    puts "\n[Step 3] Validating..."
    result = validate(aligned)
    puts "Result: #{result ? 'âœ“ Success' : 'âœ— Failed'}"
    
    aligned
  end
end

# åŸ·è¡Œç¯„ä¾‹
parser = TaigiParser.new
parser.parse("suÃ -loÌh lÃ¢i-khuÃ nn Sin-tik-tshÄ«")
```

### åŸ·è¡Œæ¸¬è©¦

```bash
# æ¸¬è©¦ç¯„ä¾‹è³‡æ–™ï¼ˆé è¨­ï¼Œç´„ 3,000 ç­†ï¼‰
ruby test_parser.rb

# æˆ–æŒ‡å®šæ¸¬è©¦æª”æ¡ˆ
ruby test_parser.rb test_data/sample_data.json

# æ¸¬è©¦å®Œæ•´ 64,554 ç­†è³‡æ–™
ruby test_parser.rb test_data/corpora_data_new.json
```

**æ¸¬è©¦è…³æœ¬ç‰¹è‰²**ï¼š
- é€²åº¦æ¢é¡¯ç¤ºï¼ˆâ–ˆ å’Œ â–‘ è¦–è¦ºæ•ˆæœï¼‰
- å³æ™‚ç™¾åˆ†æ¯”æ›´æ–°
- æœ€çµ‚çµ±è¨ˆçµæœ
- éŒ¯èª¤æ¡ˆä¾‹é¡¯ç¤ºï¼ˆå¦‚æœ‰ï¼‰
- 100% æˆåŠŸæ™‚é¡¯ç¤ºæ…¶ç¥è¨Šæ¯

## Marp æ ¼å¼æ³¨æ„äº‹é …

### åŸºæœ¬è¨­å®š
```yaml
---
marp: true
theme: default
paginate: true
header: 'RubyWorld Conference 2025'
footer: 'Â© 2025 5xRuby'
---
```

### å»ºè­°æ¨£å¼
```css
/* è‡ªå®šç¾©æ¨£å¼ */
section.center {
  text-align: center;
}

.columns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1em;
}

pre {
  font-size: 0.8em;
}

table {
  font-size: 0.9em;
}
```

## è¦–è¦ºåŒ–ç´ æå»ºè­°

1. **é–‹å ´é **: 5xRuby Logo + æ¾æ±Ÿå¸‚MOUç…§ç‰‡
2. **æ•…äº‹ç·šåœ–è¡¨**: 8æ¬¡è½é¸ â†’ ç„¡äººç«¶æ¨™ â†’ å¾—æ¨™
3. **POJå°ç…§è¡¨**: å‹•ç•«å±•ç¤ºæ¼¢å­—èˆ‡å°ç¾…çš„å°æ‡‰
4. **ç¨‹å¼ç¢¼æ¼”é€²**: Before/After å°æ¯”
5. **Parseré¡æ¯”åœ–**: å·¦å³å°ç…§çš„æµç¨‹åœ–
6. **æˆæœæ•¸æ“š**: è³‡è¨Šåœ–è¡¨å±•ç¤º208å°æ™‚ã€å…¨å°å­¸æ ¡
7. **QR Code**: GitHubé€£çµ

## æ™‚é–“æŒæ§æé†’

- æ¯å¼µæŠ•å½±ç‰‡å¹³å‡30-45ç§’
- Demoéƒ¨åˆ†é ç•™bufferæ™‚é–“
- æº–å‚™15-20å¼µæŠ•å½±ç‰‡
- é—œéµç¨‹å¼ç¢¼ä½¿ç”¨syntax highlighting
- é¿å…éå¤šæ–‡å­—ï¼Œå¤šç”¨åœ–åƒ

## åƒè€ƒè³‡æ–™

1. **CFPæŠ•ç¨¿å…§å®¹**: RubyWorld Conference 2025 ç™ºè¡¨è€…å‹Ÿé›†å›è¦†
2. **ç³»çµ±èªªæ˜æ›¸**: åœ‹å®¶æ•™è‚²ç ”ç©¶é™¢è‡ºç£å°èªèªæ–™åº«æ‡‰ç”¨æª¢ç´¢ç³»çµ±å»ºç½®æ¡ˆ
3. **æ•™è‚²éƒ¨è¨ˆç•«**: é–©å—èªèªéŸ³èªæ–™åº«å»ºç½®è¨ˆç•«ï¼ˆ2019-2022ï¼‰
4. **æŠ€è¡“æ–‡ä»¶**: GitLabå°ˆæ¡ˆæ–‡ä»¶èˆ‡PRè¨˜éŒ„

## è¯çµ¡è³‡è¨Š

- **Email**: ryudo@5xruby.com
- **GitHub**: https://github.com/5xruby
- **Company**: 5xRuby CO., LTD
- **Phone**: +886939090146

---

*æœ¬æ–‡ä»¶ç”¨æ–¼ Claude ç”¢ç”Ÿ Marp æ ¼å¼ç°¡å ±ï¼Œè«‹ä¾æ“šä¸Šè¿°å…§å®¹ç”¢ç”Ÿå°æ‡‰çš„æŠ•å½±ç‰‡å…§å®¹ã€‚*

---

## Parser é–‹ç™¼æ­·ç¨‹è¨˜éŒ„

### 2025-10-20: RomanParserPure å„ªåŒ– - str() vs match[] ğŸ¯

#### å•é¡Œç™¼ç¾
ç”¨æˆ¶è³ªç–‘ï¼šã€Œleft_quote / right_quote ç”¨ str ä¸å¥‡æ€ªå—ï¼Ÿå› ç‚ºéƒ½æ˜¯ä¸€æ¨£çš„å­—ç¬¦ï¼Œå®ƒæ‡‰è©²è¦æ˜¯ regexp å§ï¼Ÿã€

#### åˆ†æèˆ‡ä¿®æ­£
é›–ç„¶ U+201C (") å’Œ U+201D (") æ˜¯ä¸åŒçš„ Unicode codepointï¼Œä½†åœ¨ Parser éšæ®µæˆ‘å€‘åªéœ€è¦ã€Œè­˜åˆ¥å®ƒæ˜¯å¼•è™Ÿã€ï¼Œä¸éœ€è¦å€åˆ†å·¦å³ã€‚ä½¿ç”¨ `match[]` æ›´ç¬¦åˆã€Œå­—å…ƒé¡åˆ¥ã€çš„èªæ„ã€‚

**ä¿®æ”¹å‰ (V3 - ä½¿ç”¨ str() ä¸²è¯)**:
```ruby
rule(:punctuation) do
  str('...') | str('â‹¯â‹¯') | str('â€¦â€¦') |  # Multi-char first
  str(',') | str('.') | str('!') | str('?') |
  str('ï¼Ÿ') | str('ï¼') |
  str(';') | str(':') | str('(') | str(')') |
  str('"') | str("'") |
  str("\u201C") | str("\u201D") | str("\u2018") | str("\u2019") |  # Curly quotes
  str('ã€Œ') | str('ã€') | str('ã€') | str('ã€') |
  str('â”€') | str('â€¦') | str('â‹¯') |
  str('/') | str('~') | str('ã€')
end
```

**ä¿®æ”¹å¾Œ (V4 - ä½¿ç”¨ match[] åˆ†é¡)**:
```ruby
rule(:punctuation) do
  str('...') | str('â‹¯â‹¯') | str('â€¦â€¦') |  # Multi-char first
  match[',.:;()!?ï¼Ÿï¼/~ã€â”€â€¦â‹¯'] |  # Single-char punctuation
  match["\"'\u201C\u201D\u2018\u2019"] |  # Quotes (ASCII and curly)
  match['ã€Œã€ã€ã€']  # CJK quotes
end
```

#### æ¸¬è©¦çµæœ

| å¯¦ç¾æ–¹å¼ | 64,554 ç­†å®Œæ•´è³‡æ–™ | 3,000 ç­†ç¯„ä¾‹ | Parse æˆåŠŸç‡ |
|---------|------------------|--------------|------------|
| str() ä¸²è¯ (V3) | 64,191/64,554 (99.44%) | 2,983/3,000 | 99.44% |
| **match[] åˆ†é¡ (V4)** | **64,191/64,554 (99.44%)** | **2,987/3,000 (99.57%)** | **99.44%** |

#### å„ªå‹¢åˆ†æ
1. **æ›´ç¬¦åˆ Parslet æ…£ä¾‹**: `match[]` æ˜¯åŒ¹é…å­—å…ƒé›†åˆçš„æ¨™æº–æ–¹å¼
2. **ç¨‹å¼ç¢¼æ›´ç°¡æ½”**: 14 è¡Œ â†’ 6 è¡Œ
3. **èªæ„æ›´æ¸…æ¥š**: åˆ†é¡æ›´æ˜ç¢ºï¼ˆå–®å­—å…ƒæ¨™é»ã€å¼•è™Ÿã€CJK å¼•è™Ÿï¼‰
4. **æ•ˆèƒ½ç¶­æŒ**: Parse æˆåŠŸç‡ä¿æŒ 99.44% (64,191/64,554)
5. **æ•™å­¸åƒ¹å€¼**: æ›´é©åˆç”¨æ–¼ RubyWorld Conference 2025 å±•ç¤º

#### æª”æ¡ˆä½ç½®
- `experimental/roman_parser_pure.rb` - Line 42-48

---

### 2025-10-19: ç°¡å ±çµæ§‹å„ªåŒ–

#### ä¸»è¦æˆæœ
1. **è­˜åˆ¥ä¸¦åˆªé™¤ 2 å€‹å†—é¤˜é é¢**
   - åŸ Page 28: "3æ®µéšåˆ†æã®è©³ç´°" - èˆ‡ Phase 1/2/3 é é¢é‡è¤‡
   - åŸ Page 29: "ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ç†è«–ã®å¿œç”¨" - åƒ…é‡è¤‡æŠ½è±¡æ¦‚å¿µ

2. **æ–°å¢é—œéµæ´å¯Ÿé é¢**
   - æ–° Page 28: "ãªãœæ¼¢å­—ã« Parser ã¯ä¸è¦ãªã®ã‹ï¼Ÿ"
   - èªªæ˜ POJ Parser çš„éŸ³ç¯€è³‡è¨Šå¦‚ä½•è‡ªå‹•å¯¦ç¾æ¼¢å­—å°é½Š
   - å±•ç¤º 1 éŸ³ç¯€ = 1 æ¼¢å­—çš„è‡ªç„¶å°æ‡‰é—œä¿‚

3. **ç°¡å ±é‚è¼¯å„ªåŒ–**
   - ä¿®æ­£å‰: æ¯”è¼ƒ â†’ è©³ç´°èªªæ˜ï¼ˆé‡è¤‡ï¼‰â†’ æŠ½è±¡ç†è«– â†’ Ruby å„ªä½æ€§
   - ä¿®æ­£å¾Œ: æ¯”è¼ƒ â†’ **ç‚ºä½•æ¼¢å­—ä¸éœ€ Parser**ï¼ˆé—œéµæ´å¯Ÿï¼‰â†’ Ruby å„ªä½æ€§
   - é‚è¼¯æ›´é€£è²«ï¼Œæ¸›å°‘é‡è¤‡ï¼Œå¢åŠ æ·±åº¦

#### é—œéµè¨­è¨ˆæ±ºç­–
- **Parser å–®å‘ä¾è³´åŸç†**: è¤‡é›œçµæ§‹ï¼ˆPOJï¼‰å…ˆè§£æ â†’ ç°¡å–®çµæ§‹ï¼ˆæ¼¢å­—ï¼‰è‡ªç„¶å°æ‡‰
- **éŸ³ç¯€è¨ˆç®—æ–¹æ³•**: `"suÃ -loÌh".split('-').size` ç›´æ¥æ±ºå®šéœ€è¦å–å¹¾å€‹æ¼¢å­—
- **Compiler ç†è«–é¡æ¯”**: èˆ‡ Ruby Parser è™•ç†è¤‡é›œæ–‡æ³•å¾Œæ§‹å»º AST çš„åŸç†ç›¸åŒ

#### æŠ€è¡“æ´å¯Ÿ
é€™æ¬¡ä¿®æ”¹çš„æ ¸å¿ƒåƒ¹å€¼åœ¨æ–¼ï¼š
- ä¸åªå±•ç¤ºã€ŒParser å¯ä»¥æ‡‰ç”¨æ–¼è‡ªç„¶èªè¨€ã€ï¼ˆæŠ½è±¡ï¼‰
- è€Œæ˜¯æ·±å…¥èªªæ˜ã€Œç‚ºä»€éº¼åªéœ€è¦ä¸€å€‹ Parserã€ï¼ˆå…·é«”æ´å¯Ÿï¼‰
- é«”ç¾äº†ç·¨è­¯å™¨è¨­è¨ˆçš„æ™ºæ…§ï¼šæ‰¾åˆ°é—œéµçµæ§‹ï¼Œå…¶ä»–è‡ªç„¶å°æ‡‰

---

### 2025-10-20: RomanParserPure V5 - å‰ç½®é€£å­—ç¬¦è™•ç† ğŸš€

#### å•é¡Œåˆ†æ

**Parse å¤±æ•—æ¡ˆä¾‹**ï¼š`"(-pha)"` ç­‰æ‹¬è™Ÿå…§å‰ç½®é€£å­—ç¬¦ç„¡æ³•è¢« parse

**æ ¹æœ¬åŸå› **ï¼š
- ç•¶å‰ `hyphenated_word` è¦å‰‡ï¼š`syllable >> (hyphen >> syllable).repeat`
- è¦æ±‚å¿…é ˆä»¥ `syllable` é–‹é ­
- `-pha` é–‹é ­æ˜¯ hyphenï¼Œä¸ç¬¦åˆè¦å‰‡ âœ—

#### è§£æ±ºæ–¹æ¡ˆæ¢ç´¢

**é¸é … 1ï¼ˆâŒ è¢«å¦æ±ºï¼‰**ï¼šå°‡ `-` å®šç¾©ç‚ºç¨ç«‹ token
```ruby
rule(:token) do
  single_hyphen.as(:hyphen) |  # å–®ç¨é€£å­—ç¬¦
  hyphenated_word.as(:word) |
  # ...
end
```

**å•é¡Œ**ï¼šæœƒç ´å£å°é½Šé—œä¿‚
```ruby
"(-pha)" â†’ ["(", "-", "pha", ")"]  # 4 tokens
æ¼¢å­—ï¼š   ['ï¼ˆ', 'è„¬', 'ï¼‰']        # 3 chars
âœ— ä¸å¹³è¡¡ï¼ä¸” "-" æ²’æœ‰å°æ‡‰çš„æ¼¢å­—
```

**é¸é … 2ï¼ˆâœ… æ¡ç”¨ï¼‰**ï¼šå®šç¾© `prefix_hyphen_word` ä½œç‚ºæ–°çš„ token é¡å‹

#### V5 å¯¦ä½œ

```ruby
# æ–°å¢è¦å‰‡ - å‰ç½®é€£å­—ç¬¦è©
rule(:prefix_hyphen_word) do
  single_hyphen >> syllable
end

# Token å„ªå…ˆé †åºèª¿æ•´
rule(:token) do
  prefix_hyphen_word.as(:word) |  # ğŸ†• å„ªå…ˆåŒ¹é…ï¼ˆæ›´å…·é«”ï¼‰
  hyphenated_word.as(:word) |
  number.as(:num) |
  punctuation.as(:punct)
end
```

#### æ¸¬è©¦çµæœ

| ç‰ˆæœ¬ | Parse æˆåŠŸ | æˆåŠŸç‡ | æ”¹é€² |
|------|-----------|--------|------|
| V4 | 64,191/64,554 | 99.44% | - |
| **V5** | **64,208/64,554** | **99.46%** | **+17 cases** |

**Parse éŒ¯èª¤**ï¼š223 â†’ 205 (-18 å€‹)

#### é—œéµå„ªå‹¢

1. **ä¿æŒ token å®Œæ•´æ€§**ï¼š
   ```ruby
   "(-pha)" â†’ ["(", "-pha", ")"]  # âœ“ -pha ä½œç‚ºå–®ä¸€ token
   ```

2. **ç¬¦åˆ CorporaArraySettable é‚è¼¯** (Line 154-158)ï¼š
   ```ruby
   if rword.match?(/^-/) && rword[1..].exclude?('-')
     [rword]  # å‰ç½®é€£å­—ç¬¦ä¿æŒä¸æ‹†
   end
   ```

3. **ä¸ç ´å£æ¼¢å­—å°é½Šé—œä¿‚**ï¼š
   ```
   Roman: ["(", "-pha", ")"]  â†’ 3 tokens
   Kanji: ['ï¼ˆ', 'è„¬', 'ï¼‰']   â†’ 3 chars
   âœ“ å¹³è¡¡ï¼
   ```

4. **ç¬¦åˆå°ç¾…æ‹¼éŸ³èªæ„**ï¼š
   - `-pha` æ˜¯æ‹¬è™Ÿå…§çš„åˆéŸ³æ¨™è¨˜
   - å°æ‡‰å–®ä¸€æ¼¢å­—ã€Œè„¬ã€
   - ä¿æŒ 1:1 å°æ‡‰é—œä¿‚

#### æª”æ¡ˆä½ç½®
- `experimental/roman_parser_pure.rb` - Line 74-79 (å®šç¾©), 90-94 (ä½¿ç”¨)

#### æŠ€è¡“æ´å¯Ÿ

é€™æ¬¡ä¿®æ­£å±•ç¤ºäº† Parser è¨­è¨ˆçš„é‡è¦åŸå‰‡ï¼š
- **å„ªå…ˆç´šé †åºå¾ˆé‡è¦**ï¼šæ›´å…·é«”çš„è¦å‰‡æ”¾å‰é¢
- **èªæ„é©…å‹•è¨­è¨ˆ**ï¼šæ ¹æ“šèªè¨€çµæ§‹å®šç¾© token é¡å‹
- **ä¿æŒä¸€è‡´æ€§**ï¼šèˆ‡åŸå§‹ç³»çµ±çš„è™•ç†é‚è¼¯å°é½Š

---

### 2025-10-20: RomanParserPure V6 - å®Œæ•´ Unicode ç¯„åœæ”¯æ´ ğŸŒ

#### å•é¡Œåˆ†æ

**Parse å¤±æ•—çµ±è¨ˆ**ï¼šV5 ä»æœ‰ 205 å€‹å¤±æ•—æ¡ˆä¾‹ï¼ˆ0.32%ï¼‰

ç¶“éè©³ç´°çš„ Unicode å­—å…ƒåˆ†æï¼Œç™¼ç¾å¤±æ•—æ¡ˆä¾‹åŒ…å«å¤§é‡æœªæ”¯æ´çš„å­—å…ƒï¼š

**ä¸»è¦å•é¡Œé¡åˆ¥**ï¼š

1. **CJK æ‹¬è™Ÿèˆ‡æ¨™é»** (37 cases)
   - ã€ã€‘(U+3010-3011) - æœªå®šç¾©ç‚º punctuation
   - ã€‚(U+3002) - Ideographic period

2. **å…¨å½¢ ASCII è®Šé«”** (32 cases)
   - ï¼…(U+FF05), ï¼ˆ(U+FF08), ï¼‰(U+FF09), ï¼(U+FF0D)
   - åªå®šç¾©äº† U+FF01-FF5E ä½†æœªå®Œæ•´æ¸¬è©¦

3. **æ³¨éŸ³ç¬¦è™Ÿ** (35 cases)
   - ã„…ã„†ã„‡ã„ˆ (U+3105-312F) - å®Œå…¨ä¸åœ¨æ”¯æ´ç¯„åœ
   - Ë‡Ë‹ (U+02C7, U+02CB) - Spacing Modifier Letters

4. **ç‰¹æ®Šç¬¦è™Ÿ**
   - â˜ (U+2610) - Ballot box
   - â€§ (U+2027) - Hyphenation point
   - â¿ (U+207F) - Superscript n
   - % (U+0025) - ASCII percent

#### è§£æ±ºæ–¹æ¡ˆæ¢ç´¢

**ç­–ç•¥**ï¼šç³»çµ±æ€§æ“´å±• Unicode ç¯„åœï¼Œè€Œéå€‹åˆ¥æ·»åŠ å­—å…ƒ

#### V6 å¯¦ä½œ

**1. æ“´å±• letter å®šç¾©**ï¼š

```ruby
# æ–°å¢ modifier letter å’Œ superscript æ”¯æ´
rule(:modifier_letter) { match['\u02C0-\u02FF'] }  # Ë‡ Ë‹
rule(:superscript) { match['\u2070-\u209F'] }      # â¿

rule(:letter) do
  unicode_letter |
  (ascii_letter >> combining_mark.repeat) |
  ascii_letter |
  modifier_letter |  # ğŸ†• è²èª¿ç¬¦è™Ÿ
  superscript        # ğŸ†• ä¸Šæ¨™å­—å…ƒ
end
```

**2. å¤§å¹…æ“´å±• punctuation å®šç¾©**ï¼š

```ruby
rule(:punctuation) do
  str('...') | str('â‹¯â‹¯') | str('â€¦â€¦') |
  match[',.:;()!?ï¼Ÿï¼/~ã€â”€â€¦â‹¯\u2027%'] |  # ğŸ†• æ·»åŠ  % å’Œ â€§
  match["\"'\u201C\u201D\u2018\u2019"] |
  match['\u3000-\u303F'] |  # ğŸ†• å®Œæ•´ CJK ç¬¦è™Ÿç¯„åœ
  match['\uFF01-\uFF5E'] |  # ğŸ†• å…¨å½¢ ASCII è®Šé«”
  match['\u2014'] |
  match['\u2600-\u26FF']     # ğŸ†• é›œé …ç¬¦è™Ÿï¼ˆåŒ…å« â˜ï¼‰
end
```

**3. æ–°å¢ç‰¹æ®Š token é¡å‹**ï¼š

```ruby
# Bopomofo ä½œç‚ºç¨ç«‹ token
rule(:bopomofo) { match['\u3105-\u312F'].repeat(1) }

# CJK å­—å…ƒä½œç‚ºç¨ç«‹ tokenï¼ˆè™•ç†æ··åˆæ–‡æœ¬ï¼‰
rule(:cjk_char) { match['\u4E00-\u9FFF'] }

# æ›´æ–° token è¦å‰‡
rule(:token) do
  prefix_hyphen_word.as(:word) |
  hyphenated_word.as(:word) |
  number.as(:num) |
  bopomofo.as(:bopomofo) |  # ğŸ†•
  cjk_char.as(:cjk) |        # ğŸ†•
  punctuation.as(:punct)
end
```

**4. æ›´æ–° Transform**ï¼š

```ruby
class Transform < Parslet::Transform
  rule(word: simple(:w)) { w.to_s }
  rule(num: simple(:n)) { n.to_s }
  rule(punct: simple(:p)) { p.to_s }
  rule(bopomofo: simple(:b)) { b.to_s }  # ğŸ†•
  rule(cjk: simple(:c)) { c.to_s }       # ğŸ†•
end
```

#### æ¸¬è©¦çµæœ

| ç‰ˆæœ¬ | Parse æˆåŠŸ | æˆåŠŸç‡ | Parse Errors | æ”¹é€² |
|------|-----------|--------|--------------|------|
| V5 | 64,208 | 99.46% | 205 (0.32%) | - |
| **V6** | **64,476** | **99.88%** | **78 (0.12%)** | **+268** |

**è©³ç´°çµ±è¨ˆ**ï¼š
- ç¸½æ¸¬è©¦æ¡ˆä¾‹ï¼š64,554
- V5 â†’ V6 æ”¹é€²ï¼š+0.42 ç™¾åˆ†é»
- Parse errors æ¸›å°‘ï¼š205 â†’ 78ï¼ˆæ¸›å°‘ 62%ï¼‰

#### æ–°å¢æ”¯æ´çš„ Unicode ç¯„åœ

1. **U+02C0-02FF**: Spacing Modifier Letters
   - Ë‡ (U+02C7 - Caron)
   - Ë‹ (U+02CB - Modifier letter grave accent)

2. **U+2070-209F**: Superscripts and Subscripts
   - â¿ (U+207F - Superscript latin small letter n)

3. **U+3000-303F**: CJK Symbols and Punctuation (å®Œæ•´ç¯„åœ)
   - ã€‚(U+3002 - Ideographic full stop)
   - ã€(U+3001 - Ideographic comma)
   - ã€(U+3010), ã€‘(U+3011) - Black lenticular brackets
   - ã€€(U+3000 - Ideographic space)

4. **U+3105-312F**: Bopomofo (ä½œç‚ºç¨ç«‹ token)
   - ã„…ã„†ã„‡ã„ˆ etc.

5. **U+4E00-9FFF**: CJK Unified Ideographs (ä½œç‚ºç¨ç«‹ token)
   - è™•ç†æ··åˆæ–‡æœ¬ä¸­çš„æ¼¢å­—

6. **U+FF01-FF5E**: Fullwidth ASCII Variants (å®Œæ•´æ¸¬è©¦)
   - ï¼…(U+FF05), ï¼ˆ(U+FF08), ï¼‰(U+FF09), ï¼(U+FF0D), ï¼(U+FF01)

7. **U+2600-26FF**: Miscellaneous Symbols
   - â˜ (U+2610 - Ballot box)

8. **U+0025**: ASCII percent sign (%)

9. **U+2027**: Hyphenation point (â€§)

#### é—œéµå„ªå‹¢

1. **æ¶µè“‹ç¯„åœå®Œæ•´**ï¼š
   - æ”¯æ´æ‰€æœ‰èªæ–™åº«ä¸­å‡ºç¾çš„ Unicode å­—å…ƒ
   - ç³»çµ±æ€§ç¯„åœå®šç¾©ï¼Œè€Œéå€‹åˆ¥å­—å…ƒ

2. **æ¶æ§‹æ¸…æ™°**ï¼š
   - æŒ‰åŠŸèƒ½åˆ†é¡ Unicode ç¯„åœ
   - ç‰¹æ®Šå­—å…ƒä½œç‚ºç¨ç«‹ token é¡å‹

3. **æ•™å­¸åƒ¹å€¼**ï¼š
   - å±•ç¤ºå¦‚ä½•è™•ç†å¤šèªè¨€æ··åˆæ–‡æœ¬
   - Unicode ç¯„åœçš„ç³»çµ±æ€§æ€è€ƒæ–¹å¼

4. **å¯¦ç”¨æ€§**ï¼š
   - 99.88% æˆåŠŸç‡æ¥è¿‘å®Œç¾
   - å‰©é¤˜ 78 å€‹æ¡ˆä¾‹ç‚ºæ¥µç«¯ edge cases

#### æª”æ¡ˆä½ç½®

- `experimental/roman_parser_pure.rb` - Line 29-59 (Letter rules)
- `experimental/roman_parser_pure.rb` - Line 50-59 (Punctuation rules)
- `experimental/roman_parser_pure.rb` - Line 94-114 (Token rules)

---

### 2025-10-20: RomanParserPure V7 - é‚Šç·£æ¡ˆä¾‹çªç ´ ğŸ¯

#### èƒŒæ™¯

V6 é”åˆ° 99.88% (64,476/64,554) æˆåŠŸç‡å¾Œï¼Œå‰©é¤˜ 78 å€‹å¤±æ•—æ¡ˆä¾‹ï¼ˆ0.12%ï¼‰ã€‚ç”¨æˆ¶è¦æ±‚ï¼šã€Œé‚£æˆ‘å€‘ä¾†è©¦è‘—è§£æ±ºå‰©ä¸‹é‚£äº› edge case å§ã€

#### å¤±æ•—æ¡ˆä¾‹åˆ†æ

å° 78 å€‹å¤±æ•—æ¡ˆä¾‹é€²è¡Œè©³ç´°åˆ†æï¼Œç™¼ç¾æ˜ç¢ºçš„æ¨¡å¼ï¼š

**ä¸»è¦å•é¡Œé¡åˆ¥**ï¼š

1. **Double-hyphen after quotes (59 cases - 76%)**
   - Pattern: `"phrase"--word`
   - Example: `"tsiaÌh-kÃ­n lÃ²ng-phuÃ  uÃ¡nn"--ooh!`
   - å•é¡Œï¼šå¼•è™Ÿå¾Œç›´æ¥æ¥ `--` å†æ¥è©ï¼Œä¸­é–“æ²’æœ‰ç©ºæ ¼
   - åŸå› ï¼šParser å°‡ `"` è¦–ç‚ºç¨ç«‹ tokenï¼Œç„¡æ³•è™•ç†ç·Šé„°çš„ `--word`

2. **Underscore placeholders (9 cases - 11.5%)**
   - Pattern: `lÃ¡n_`
   - Meaning: `å’±__`ï¼ˆè¡¨ç¤ºæ–‡æœ¬ç©ºç™½ä½ç½®ï¼‰
   - å•é¡Œï¼š`_` ä¸å±¬æ–¼ä»»ä½•å·²å®šç¾©çš„ token é¡å‹
   - åŸå› ï¼šUnderscore æœªç´å…¥ letterã€punctuation æˆ–å…¶ä»–è¦å‰‡

3. **å…¶ä»–ç‰¹æ®Šç¬¦è™Ÿ**
   - Angle brackets: `< lÃ¢ng kah sai >` (1 case)
   - Leading spaces in quotes: `" tÄi it kok-bÃ»n "` (5 cases)
   - Special emoticons: `^Q^` (1 case)
   - Zero-width space: U+200B (1 case)
   - Combining character: U+0358 (2 cases)

#### V7 å¯¦ä½œç­–ç•¥

**è¨­è¨ˆåŸå‰‡**ï¼šé‡å°é«˜é »æ¨¡å¼ï¼ˆ76% + 11.5% = 87.5%ï¼‰è¨­è¨ˆå°ˆç”¨è¦å‰‡

**1. æ–°å¢ Double-hyphen word è¦å‰‡**ï¼š

```ruby
# Double-hyphen word: starts with double hyphen
# Examples: "--ooh!", "--kÃ³ng"
# Used after quotes: "phrase"--word
rule(:double_hyphen_word) do
  double_hyphen >> syllable >>
  (
    single_hyphen >> syllable |  # Can have more syllables
    single_hyphen                 # Can end with hyphen
  ).repeat
end
```

**é—œéµé»**ï¼š
- å…è¨± `--` ä½œç‚ºè©çš„é–‹é ­
- å¾Œé¢å¯æ¥å¤šå€‹éŸ³ç¯€ï¼ˆå¦‚ `--kuÃ¨-khÃ¬`ï¼‰
- å¯ä»¥æœ‰å°¾éš¨é€£å­—ç¬¦

**2. æ–°å¢ Underscore placeholder è¦å‰‡**ï¼š

```ruby
# Underscore (used as placeholder)
rule(:underscore) { str('_') }

# Underscore placeholder: word with trailing underscore
# Examples: "lÃ¡n_" meaning "å’±__"
rule(:underscore_word) do
  syllable >> underscore
end
```

**é—œéµé»**ï¼š
- å°‡ `underscore` å®šç¾©ç‚ºåŸºç¤ token
- `underscore_word` è™•ç† `word_` å½¢å¼
- ä¿æŒç‚ºå–®ä¸€ tokenï¼Œä¸åˆ†å‰²

**3. æ–°å¢ Angle brackets æ”¯æ´**ï¼š

```ruby
rule(:punctuation) do
  str('...') | str('â‹¯â‹¯') | str('â€¦â€¦') |
  match[',.:;()!?ï¼Ÿï¼/~ã€â”€â€¦â‹¯\u2027%<>'] |  # ğŸ†• Added <>
  # ... rest of patterns
end
```

**4. èª¿æ•´ Token å„ªå…ˆé †åº**ï¼š

```ruby
rule(:token) do
  double_hyphen_word.as(:word) |  # ğŸ†• Most specific - try first
  prefix_hyphen_word.as(:word) |  # More specific
  underscore_word.as(:word) |     # ğŸ†• Specific pattern
  hyphenated_word.as(:word) |     # General pattern
  number.as(:num) |
  bopomofo.as(:bopomofo) |
  cjk_char.as(:cjk) |
  punctuation.as(:punct)
end
```

**å„ªå…ˆé †åºé‚è¼¯**ï¼š
- `double_hyphen_word` æœ€å…·é«”ï¼ˆ`--word`ï¼‰â†’ å„ªå…ˆå˜—è©¦
- `prefix_hyphen_word` æ¬¡ä¹‹ï¼ˆ`-word`ï¼‰
- `underscore_word` ç‰¹å®šæ¨¡å¼ï¼ˆ`word_`ï¼‰
- `hyphenated_word` æœ€é€šç”¨ï¼ˆ`word-word`ï¼‰â†’ æœ€å¾Œå˜—è©¦

#### æ¸¬è©¦çµæœ

**Edge cases æ¸¬è©¦ (7/7)**ï¼š

```ruby
[1] âœ“ "tsiaÌh-kÃ­n lÃ²ng-phuÃ  uÃ¡nn"--ooh!
[2] âœ“ "uÃ¬ tsit Ãª khong-keh kÃ u hit Ãª khong-keh"--kÃ³ng
[3] âœ“ "tsiÌt-mÃ¡ lÃ¢i tshap kha"--ooh
[4] âœ“ lÃ¡n_
[5] âœ“ TÄi-tÅo-sÃ²o lÃ¡n_
[6] âœ“ " tÄi it kok-bÃ»n "
[7] âœ“ < lÃ¢ng kah sai >
```

**å®Œæ•´è³‡æ–™é›†æ¸¬è©¦**ï¼š

| æŒ‡æ¨™ | V6 | V7 | æ”¹é€² |
|------|----|----|------|
| ç¸½ç­†æ•¸ | 64,554 | 64,554 | - |
| Parse æˆåŠŸ | 64,476 | **64,548** | **+72** |
| æˆåŠŸç‡ | 99.88% | **99.99%** | **+0.11%** |
| Parse éŒ¯èª¤ | 78 | **6** | **-92.3%** |
| éŒ¯èª¤ç‡ | 0.12% | **0.01%** | **-91.7%** |

#### å‰©é¤˜ 6 å€‹æ¥µç«¯é‚Šç·£æ¡ˆä¾‹

**è©³ç´°åˆ†æ**ï¼š

1. **[96824]** - ASCII hyphen vs Em dash æ··ç”¨
   - `lÃ¡n Ãª bÃ³-gÃº - TÃ¢i-uÃ¢n-uÄ“`
   - ä½¿ç”¨ U+002D (hyphen) è€Œé U+2014 (em dash)
   - å•é¡Œï¼šç©ºæ ¼ + å–®ä¸€ hyphen + ç©ºæ ¼ â‰  æœ‰æ•ˆ token

2. **[101361]** - Zero-width space (U+200B)
   - `â€‹ TÃ¢i-uÃ¢n gÃ­-giÃ¢n`
   - é–‹é ­æœ‰ä¸å¯è¦‹å­—å…ƒ
   - å•é¡Œï¼šè³‡æ–™æ¸…ç†å•é¡Œï¼Œé Parser èƒ½åŠ›ç¯„åœ

3-4. **[101568, 101572]** - Combining character U+0358
   - `khÃ²Í˜` (Combining Dot Above Right)
   - éœ€è¦æ“´å±• `combining_mark` ç¯„åœè‡³ U+0358
   - å•é¡Œï¼šç•¶å‰åªæ”¯æ´ U+0300-036F

5. **[106448]** - é€—è™Ÿå¾Œç„¡ç©ºæ ¼
   - `kuan-tsiÃ²ng,mÄ`
   - é•å POJ æ¨™æº–æ ¼å¼ï¼ˆæ¨™é»å¾Œæ‡‰æœ‰ç©ºæ ¼ï¼‰
   - å•é¡Œï¼šè³‡æ–™æ ¼å¼å•é¡Œ

6. **[116361]** - ç‰¹æ®Šè¡¨æƒ…ç¬¦è™Ÿ
   - `^Q^`ï¼ˆç¬‘è‡‰ï¼‰
   - é Unicode æ¨™æº–è¡¨æƒ…ï¼Œå±¬æ–¼ ASCII art
   - å•é¡Œï¼šä¸ç¬¦åˆèªè¨€å­¸æ¨™æº–

**åˆ†é¡**ï¼š
- **è³‡æ–™å“è³ªå•é¡Œ** (3 å€‹)ï¼šZero-width spaceã€é€—è™Ÿå¾Œç„¡ç©ºæ ¼ã€è¡¨æƒ…ç¬¦è™Ÿ
- **æ ¼å¼å•é¡Œ** (1 å€‹)ï¼šHyphen vs Em dash æ··ç”¨
- **å¯ä¿®æ­£å•é¡Œ** (2 å€‹)ï¼šCombining mark ç¯„åœæ“´å±•

#### æŠ€è¡“æˆæœ

**1. çªç ´æ€§æˆåŠŸç‡**ï¼š
- âœ… 99.99% æ¥è¿‘å®Œç¾
- âœ… éŒ¯èª¤ç‡é™è‡³ 0.01%
- âœ… å¯ç”¨æ–¼ç”Ÿç”¢ç’°å¢ƒ

**2. å•é¡Œè§£æ±ºæ•ˆç‡**ï¼š
- è§£æ±º 72/78 å€‹æ¡ˆä¾‹ï¼ˆ92.3%ï¼‰
- åƒ… 3 å€‹æ­¥é©Ÿï¼ˆdouble-hyphen, underscore, angle bracketsï¼‰
- é‡å°æ€§å¼·ï¼Œé¿å…éåº¦å·¥ç¨‹

**3. æ¶æ§‹å„ªé›…æ€§**ï¼š
- è¦å‰‡å„ªå…ˆé †åºæ¸…æ™°
- ç‰¹æ®Šæ¨¡å¼èˆ‡é€šç”¨æ¨¡å¼åˆ†é›¢
- æ˜“æ–¼ç†è§£å’Œç¶­è­·

**4. æ•™å­¸åƒ¹å€¼**ï¼š
- å±•ç¤ºå¦‚ä½•é€²è¡Œé‚Šç·£æ¡ˆä¾‹åˆ†æ
- ç¤ºç¯„ 80/20 æ³•å‰‡ï¼ˆè§£æ±º 87.5% é«˜é »å•é¡Œï¼‰
- èªªæ˜ä½•æ™‚åœæ­¢å„ªåŒ–ï¼ˆå‰©é¤˜ 0.01% ç‚ºè³‡æ–™å•é¡Œï¼‰

#### é—œéµè¨­è¨ˆæ±ºç­–

**Q: ç‚ºä»€éº¼ `double_hyphen_word` è¦æ”¾åœ¨æœ€å‰é¢ï¼Ÿ**

A: Parslet PEG parser ä½¿ç”¨ã€Œæœ‰åºé¸æ“‡ã€ï¼š
- `--word` æ›´å…·é«” â†’ å„ªå…ˆåŒ¹é…
- è‹¥æ”¾åœ¨ `hyphenated_word` å¾Œï¼Œ`--` æœƒè¢«è¦–ç‚ºå…©å€‹ `-`
- å…·é«”è¦å‰‡å„ªå…ˆï¼Œé¿å…éŒ¯èª¤åŒ¹é…

**Q: ç‚ºä»€éº¼ä¸ç¹¼çºŒè™•ç†å‰©é¤˜ 6 å€‹æ¡ˆä¾‹ï¼Ÿ**

A: å‰©é¤˜æ¡ˆä¾‹å±¬æ–¼ï¼š
1. **è³‡æ–™å“è³ªå•é¡Œ**ï¼ˆ50%ï¼‰â†’ æ‡‰åœ¨è³‡æ–™æ¸…ç†éšæ®µä¿®æ­£
2. **æ ¼å¼æ¨™æº–å•é¡Œ**ï¼ˆ17%ï¼‰â†’ å±¬æ–¼å…§å®¹éŒ¯èª¤ï¼Œé Parser è²¬ä»»
3. **å¯ä¿®æ­£ä½†æ¥µç½•è¦‹**ï¼ˆ33%ï¼‰â†’ Cost-benefit ä¸åˆç†

**æŠ•è³‡å ±é…¬ç‡**ï¼š
- V6 â†’ V7: 3 å€‹è¦å‰‡è§£æ±º 72 å€‹æ¡ˆä¾‹ï¼ˆ24:1ï¼‰
- V7 â†’ V8ï¼ˆå‡è¨­ï¼‰ï¼šéœ€è¦ 3+ è¦å‰‡è§£æ±º 6 å€‹æ¡ˆä¾‹ï¼ˆ0.5:1ï¼‰
- çµè«–ï¼š99.99% å·²é”å·¥ç¨‹å¹³è¡¡é»

#### æª”æ¡ˆä½ç½®

- `experimental/roman_parser_pure.rb` - Line 50-51 (Underscore definition)
- `experimental/roman_parser_pure.rb` - Line 95-110 (New word rules)
- `experimental/roman_parser_pure.rb` - Line 127-137 (Token priority)
- `test_v7_full.rb` - å®Œæ•´æ¸¬è©¦è…³æœ¬
- `test_v7_edge_cases.rb` - é‚Šç·£æ¡ˆä¾‹æ¸¬è©¦
- `analyze_remaining_6.rb` - å‰©é¤˜æ¡ˆä¾‹åˆ†æ

#### ç‰ˆæœ¬æ¯”è¼ƒç¸½çµ

| ç‰ˆæœ¬ | ä¸»è¦æ”¹é€² | æˆåŠŸç‡ | éŒ¯èª¤æ•¸ |
|------|---------|--------|--------|
| V5 | Prefix hyphen | 99.46% | 205 |
| V6 | Unicode ranges | 99.88% | 78 |
| **V7** | **Edge cases** | **99.99%** | **6** |

**ç¸½æ”¹é€²**ï¼ˆV5 â†’ V7ï¼‰ï¼š
- æˆåŠŸç‡ï¼š+0.53%
- éŒ¯èª¤æ¸›å°‘ï¼š205 â†’ 6ï¼ˆ-97.1%ï¼‰
- æ–°å¢è¦å‰‡ï¼š3 å€‹ï¼ˆdouble-hyphen, underscore, angle bracketsï¼‰

---

### 2025-10-20: RomanParserPure V8 - 100% å®Œç¾è§£æ ğŸ¯ğŸ†

#### èƒŒæ™¯èˆ‡æŒ‘æˆ°

V7 é”åˆ° 99.99% (64,548/64,554) å¾Œï¼Œå‰©é¤˜ 6 å€‹æ¡ˆä¾‹ï¼ˆ0.01%ï¼‰è¢«æ¨™è¨˜ç‚ºã€Œè³‡æ–™å“è³ªå•é¡Œã€ã€‚

ç”¨æˆ¶æå‡ºæŒ‘æˆ°ï¼š**ã€Œå‰©ä¸‹é€™6ç­†é‚„æœ‰å¯èƒ½è™•ç†å—ï¼Ÿid IN (96824, 101361, 101568, 101572, 106448, 116361)ã€**

#### å¯è¡Œæ€§åˆ†æ

å° 6 å€‹æ¡ˆä¾‹é€²è¡Œè©³ç´°æŠ€è¡“å¯è¡Œæ€§è©•ä¼°ï¼š

**æ¡ˆä¾‹æ¸…å–®èˆ‡åˆ†æ**ï¼š

1. **[96824]** - `tshui-sak kap thui-kÃ³ng lÃ¡n Ãª bÃ³-gÃº - TÃ¢i-uÃ¢n-uÄ“.`
   - Pattern: `bÃ³-gÃº - TÃ¢i-uÃ¢n-uÄ“` (space-hyphen-space)
   - å•é¡Œï¼šå–®ç¨ `-` ç„¡æ³•åŒ¹é…ä»»ä½• token è¦å‰‡
   - å¯è¡Œæ€§ï¼šâœ… Easy - å°‡ `-` åŠ å…¥ punctuation

2. **[101361]** - `â€‹ TÃ¢i-uÃ¢n gÃ­-giÃ¢n kÃ u-ioÌk Ãª tshiÃ²-khue`
   - Pattern: Zero-width space (U+200B) åœ¨å¥é¦–
   - å•é¡Œï¼šä¸å¯è¦‹å­—å…ƒï¼ŒParser ç„¡æ³•è™•ç†
   - å¯è¡Œæ€§ï¼šâœ… Easy - å°‡ U+200B åŠ å…¥ `space?`

3. **[101568]** - `" tÄi it kok-bÃ»n " sÄ« ... khÃ²Í˜,`
4. **[101572]** - `lÃ³ng tsiÄm-tsiÄm ... khÃ²Í˜,`
   - Pattern: `khÃ²Í˜` å« Combining Dot Above Right (U+0358)
   - å•é¡Œï¼šU+0358 ä¸åœ¨ U+0300-036F ç¯„åœ
   - å¯è¡Œæ€§ï¼šâœ… Easy - æ“´å±• combining_mark + ä¿®æ­£ letter é †åº

5. **[106448]** - `SÃ®-kan ... "Kong-sÄ« + tshit" pÃªnn-tÃ¢i,`
   - Pattern: åŒ…å« `+` è™Ÿ
   - å•é¡Œï¼š`+` æœªå®šç¾©ç‚º punctuation
   - å¯è¡Œæ€§ï¼šâœ… Easy - å°‡ `+` åŠ å…¥ punctuation

6. **[116361]** - `tshut-khÃ¬ ... gÄ“-suÌt-ka--neh!^Q^`
   - Pattern: ASCII art `^Q^` ç¬‘è‡‰
   - å•é¡Œï¼š`^` æœªå®šç¾©
   - å¯è¡Œæ€§ï¼šâœ… Easy - å°‡ `^` åŠ å…¥ punctuation

**çµè«–ï¼šæ‰€æœ‰ 6 å€‹æ¡ˆä¾‹éƒ½æ˜¯æŠ€è¡“ä¸Šå¯è¡Œçš„ï¼**

#### V8 å¯¦ä½œ

**1. Zero-width space æ”¯æ´**ï¼š

```ruby
# æ–°å¢ zero-width space å®šç¾©
rule(:zero_width_space) { match['\u200B'] }

# å°‡å…¶ç´å…¥ space? è¦å‰‡
rule(:space?) { (zero_width_space | match['\s']).repeat }
```

**é—œéµé»**ï¼š
- U+200B æ˜¯åˆæ³•çš„ Unicode å­—å…ƒ
- å¸¸è¦‹æ–¼è¤‡è£½è²¼ä¸Šæ–‡æœ¬æ™‚ç”¢ç”Ÿ
- æ‡‰è¦–ç‚ºç©ºç™½å­—å…ƒçš„ä¸€ç¨®

**2. Combining character U+0358 æ”¯æ´**ï¼š

```ruby
# æ“´å±• combining_mark ç¯„åœ
rule(:combining_mark) { match['\u0300-\u036F'] | match['\u0358'] }

# ä¿®æ­£ letter å®šç¾©é †åº
rule(:letter) do
  (unicode_letter >> combining_mark.repeat) |  # ğŸ†• Unicode letter å¯é™„åŠ  combining
  (ascii_letter >> combining_mark.repeat) |
  unicode_letter |
  ascii_letter |
  modifier_letter |
  superscript
end
```

**æŠ€è¡“ç´°ç¯€**ï¼š
- `khÃ²Í˜` = `k` + `h` + `Ã²` (U+00F2) + `Í˜` (U+0358)
- `Ã²` æœ¬èº«æ˜¯ precomposed Unicode letter
- éœ€è¦å…è¨± `unicode_letter` å¾Œæ¥ `combining_mark`
- åŸæœ¬åªæ”¯æ´ `ascii_letter` å¾Œæ¥ combining

**Debug éç¨‹**ï¼š
```ruby
# æ¸¬è©¦ç™¼ç¾
"khÃ²Í˜"[2] # => "Ã²" (U+00F2) - Unicode letter, not ASCII!
"khÃ²Í˜"[3] # => "Í˜" (U+0358) - Combining mark

# åŸæœ¬çš„ letter å®šç¾©åªè™•ç† ASCII + combining
rule(:letter) do
  unicode_letter |
  (ascii_letter >> combining_mark.repeat) |  # âœ— "Ã²" ä¸æ˜¯ ASCII
  ascii_letter
end

# ä¿®æ­£å¾Œï¼šUnicode letter ä¹Ÿå¯ä»¥é™„åŠ  combining
rule(:letter) do
  (unicode_letter >> combining_mark.repeat) |  # âœ“ "Ã²" å¯ä»¥æ¥ U+0358
  (ascii_letter >> combining_mark.repeat) |
  # ...
end
```

**3. ç‰¹æ®Šæ¨™é»ç¬¦è™Ÿæ”¯æ´**ï¼š

```ruby
rule(:punctuation) do
  str(' - ') |  # ä¿ç•™ï¼ˆé›–ç„¶ä¸æœƒè¢«åŒ¹é…ï¼‰
  str('...') | str('â‹¯â‹¯') | str('â€¦â€¦') |
  match[',.:;()!?ï¼Ÿï¼/~ã€â”€â€¦â‹¯\u2027%<>^+-'] |  # ğŸ†• æ·»åŠ  ^, +, -
  # ... rest
end
```

**é—œéµæ±ºç­–**ï¼š
- `^` - ASCII art emoticon å¸¸ç”¨å­—å…ƒ
- `+` - æ•¸å­¸è¡¨é”å¼å¿…è¦ç¬¦è™Ÿ
- `-` - å…è¨±å–®ç¨ hyphen ä½œç‚º em dash æ›¿ä»£

**Token å„ªå…ˆé †åºå½±éŸ¿**ï¼š
```ruby
rule(:token) do
  double_hyphen_word.as(:word) |  # "--word" å„ªå…ˆ
  prefix_hyphen_word.as(:word) |  # "-word" æ¬¡ä¹‹
  underscore_word.as(:word) |     # "word_"
  hyphenated_word.as(:word) |     # "word-word"
  number.as(:num) |
  bopomofo.as(:bopomofo) |
  cjk_char.as(:cjk) |
  punctuation.as(:punct)          # æœ€å¾Œå˜—è©¦ "-" ä½œç‚º punctuation
end
```

**ç‚ºä½• `-` å¯ä»¥åŒæ™‚å­˜åœ¨æ–¼ word å’Œ punctuationï¼Ÿ**
- PEG parser ä½¿ç”¨ã€Œæœ‰åºé¸æ“‡ã€ï¼ˆordered choiceï¼‰
- å…ˆå˜—è©¦æ‰€æœ‰ word ç›¸é—œè¦å‰‡
- è‹¥éƒ½å¤±æ•—ï¼Œæ‰å˜—è©¦ punctuation
- å› æ­¤ `bÃ³-gÃº` æœƒåŒ¹é… `hyphenated_word`
- ä½† ` - ` (å–®ç¨) æœƒåŒ¹é… `punctuation`

#### æ¸¬è©¦çµæœ

**6 å€‹ç›®æ¨™æ¡ˆä¾‹æ¸¬è©¦ (6/6)**ï¼š

```
âœ“ [ID: 96824] bÃ³-gÃº - TÃ¢i-uÃ¢n-uÄ“
âœ“ [ID: 101361] â€‹ TÃ¢i-uÃ¢n gÃ­-giÃ¢n
âœ“ [ID: 101568] ... khÃ²Í˜,
âœ“ [ID: 101572] ... khÃ²Í˜,
âœ“ [ID: 106448] "Kong-sÄ« + tshit"
âœ“ [ID: 116361] ... ^Q^
```

**å®Œæ•´è³‡æ–™é›†æ¸¬è©¦ (64,554 ç­†)**ï¼š

| æŒ‡æ¨™ | V7 | V8 | æ”¹é€² |
|------|----|----|------|
| ç¸½ç­†æ•¸ | 64,554 | 64,554 | - |
| Parse æˆåŠŸ | 64,548 | **64,554** | **+6** |
| æˆåŠŸç‡ | 99.99% | **100.00%** | **+0.01%** |
| Parse éŒ¯èª¤ | 6 | **0** | **-100%** |
| éŒ¯èª¤ç‡ | 0.01% | **0.00%** | **-100%** |

ğŸ‰ **é”æˆ 100% å®Œç¾è§£æï¼**

#### æŠ€è¡“æˆæœ

**1. å®Œç¾æº–ç¢ºåº¦**ï¼š
- âœ… 64,554/64,554 å…¨éƒ¨æˆåŠŸ
- âœ… é›¶éŒ¯èª¤ç‡
- âœ… å¯ç”¨æ–¼ç”Ÿç”¢ç’°å¢ƒçš„å®Œç¾ Parser

**2. è­‰æ˜ã€Œè³‡æ–™å“è³ªå•é¡Œã€å¯¦ç‚ºèªè¨€ç¾è±¡**ï¼š
- Zero-width space â†’ æ–‡æœ¬ç·¨è¼¯å¸¸è¦‹å‰¯ç”¢å“
- U+0358 â†’ åˆæ³•çš„ Unicode combining character
- å–®ç¨ hyphen â†’ æ‰“å­—è¼¸å…¥çš„ em dash æ›¿ä»£
- Plus sign â†’ æ•¸å­¸/æ··åˆèªè¨€è¡¨é”å¿…éœ€
- Caret â†’ ASCII art è¡¨æƒ…ç¬¦è™Ÿ

**3. æ¶æ§‹å„ªé›…æ€§ç¶­æŒ**ï¼š
- åªå¢åŠ  3 å€‹å°æ”¹å‹•ï¼ˆzero_width_space, combining U+0358, punctuation æ“´å±•ï¼‰
- æ²’æœ‰ç ´å£ç¾æœ‰è¦å‰‡
- Token å„ªå…ˆé †åºé‚è¼¯æ¸…æ™°

**4. æ•™å­¸åƒ¹å€¼**ï¼š
- å±•ç¤ºå¦‚ä½•å°‡ã€Œä¸å¯èƒ½ã€è®Šç‚ºã€Œå®Œç¾ã€
- èªªæ˜ PEG parser çš„æœ‰åºé¸æ“‡ç‰¹æ€§
- ç¤ºç¯„ Unicode å­—å…ƒåˆ†æçš„é‡è¦æ€§

#### é—œéµè¨­è¨ˆæ´å¯Ÿ

**Q: ç‚ºä»€éº¼ V7 èªç‚ºæ˜¯ã€Œè³‡æ–™å“è³ªå•é¡Œã€ï¼Ÿ**

A: å·¥ç¨‹ä¸Šçš„è¬¹æ…åˆ¤æ–·ï¼š
- V7 å·²é” 99.99%ï¼Œèªç‚ºå‰©é¤˜ 0.01% ä¸å€¼å¾—æŠ•å…¥
- åˆæ­¥åˆ¤æ–·é€™äº›æ˜¯ç•°å¸¸å­—å…ƒï¼ˆzero-width space, è¡¨æƒ…ç¬¦è™Ÿï¼‰
- ç¬¦åˆ 80/20 æ³•å‰‡çš„å·¥ç¨‹æ±ºç­–

**Q: V8 è­‰æ˜äº†ä»€éº¼ï¼Ÿ**

A: å®Œç¾ä¸»ç¾©çš„åƒ¹å€¼ï¼š
- æ¯å€‹ã€Œé‚Šç·£æ¡ˆä¾‹ã€éƒ½æœ‰å…¶èªè¨€å­¸ç†ç”±
- Zero-width space ä¸æ˜¯éŒ¯èª¤ï¼Œæ˜¯æ–‡æœ¬ç·¨è¼¯ç¾å¯¦
- U+0358 ä¸æ˜¯ç•°å¸¸ï¼Œæ˜¯ POJ æ­£ç•¶è²èª¿æ¨™è¨˜æ–¹å¼
- å–®ç¨ hyphen ä¸æ˜¯æ ¼å¼å•é¡Œï¼Œæ˜¯å£èªåŒ–è¼¸å…¥ç¿’æ…£

**Q: é€™å° RubyWorld Conference 2025 æ¼”è¬›çš„æ„ç¾©ï¼Ÿ**

A: å®Œç¾çš„æ•…äº‹çµå±€ï¼š
- V1 (98.34%) â†’ V8 (100.00%) çš„å®Œæ•´é€²åŒ–
- å±•ç¤º Compiler ç†è«–å¦‚ä½•æ‡‰ç”¨æ–¼è‡ªç„¶èªè¨€
- è­‰æ˜ Ruby çš„ Parslet gem èƒ½é”åˆ°å®Œç¾è§£æ
- **ã€Œå¾ç„¡äººç«¶æ¨™åˆ°å®Œç¾è§£æã€çš„å‹µå¿—æ•…äº‹**

#### æª”æ¡ˆä½ç½®

- `experimental/roman_parser_pure.rb` - Line 26-28 (Zero-width space)
- `experimental/roman_parser_pure.rb` - Line 34 (Combining U+0358)
- `experimental/roman_parser_pure.rb` - Line 39-46 (Letter é †åºä¿®æ­£)
- `experimental/roman_parser_pure.rb` - Line 59 (Punctuation æ“´å±•)
- `test_v8_final_6.rb` - 6 å€‹ç›®æ¨™æ¡ˆä¾‹æ¸¬è©¦
- `test_v8_full.rb` - å®Œæ•´è³‡æ–™é›†æ¸¬è©¦
- `analyze_final_6_feasibility.rb` - å¯è¡Œæ€§åˆ†æè…³æœ¬

#### ç‰ˆæœ¬æ¯”è¼ƒç¸½çµ

| ç‰ˆæœ¬ | ä¸»è¦æ”¹é€² | æˆåŠŸç‡ | éŒ¯èª¤æ•¸ | éŒ¯èª¤ç‡ |
|------|---------|--------|--------|--------|
| V5 | Prefix hyphen | 99.46% | 205 | 0.32% |
| V6 | Unicode ranges | 99.88% | 78 | 0.12% |
| V7 | Edge cases | 99.99% | 6 | 0.01% |
| **V8** | **Perfect parsing** | **100.00%** | **0** | **0.00%** |

**ç¸½æ”¹é€²**ï¼ˆV5 â†’ V8ï¼‰ï¼š
- æˆåŠŸç‡ï¼š+0.54% (99.46% â†’ 100.00%)
- éŒ¯èª¤æ¸›å°‘ï¼š205 â†’ 0ï¼ˆ-100%ï¼‰
- æ–°å¢è¦å‰‡ï¼š6 å€‹ï¼ˆdouble-hyphen, underscore, angle brackets, zero-width, combining U+0358, isolated punctuationï¼‰

**é–‹ç™¼æ™‚é–“è»¸**ï¼š
- V5 â†’ V6: è§£æ±º 62% éŒ¯èª¤ï¼ˆ205 â†’ 78ï¼‰
- V6 â†’ V7: è§£æ±º 92.3% éŒ¯èª¤ï¼ˆ78 â†’ 6ï¼‰
- V7 â†’ V8: è§£æ±ºæœ€å¾Œ 100% éŒ¯èª¤ï¼ˆ6 â†’ 0ï¼‰

---

**Last Updated:** 2025-10-20
**Theme Version:** 1.2
**Maintainer:** 5xRuby Development Team
**Achievement Unlocked:** ğŸ† 100% Perfect POJ Parser
